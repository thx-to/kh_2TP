-- STORE 테이블 생성
CREATE TABLE STORE_TB(
	STORE_NO INTEGER NOT NULL PRIMARY KEY, 						/* 매장번호 */
	STORE_NAME VARCHAR2(100) NOT NULL, 							/* 매장명 */
	STORE_PHONE VARCHAR2(15) NOT NULL, 							/* 매장 연락처 */
	STORE_ADDR VARCHAR2(100) NOT NULL, 							/* 매장 주소 */
	STORE_MAP VARCHAR2(50) NOT NULL, 							/* 매장 위치(위도, 경도) */
	BRAND_NAME VARCHAR2(20) NOT NULL, 							/* 브랜드명 */
    BRAND_OPEN VARCHAR2(20) NOT NULL, 							/* 영업 시작 시간 (날짜는 임의 값) */
    BRAND_CLOSE VARCHAR2(20) NOT NULL, 							/* 영업 종료 시간 (날짜는 임의 값) */
    BRAND_LOGO1 VARCHAR2(500) NOT NULL,               			/* 브랜드 Logo 세로 이미지 URL */
	BRAND_LOGO2 VARCHAR2(500) NOT NULL,               		 	/* 브랜드 Logo 가로 이미지 URL */
	BRAND_MARKER VARCHAR2(500) NOT NULL,               			/* 브랜드 MARKER 세로 이미지 URL */
	-- UNIQUE 제약조건
	CONSTRAINT UNIQUE_STORE1 UNIQUE (STORE_NO, STORE_NAME, STORE_PHONE, BRAND_NAME), 	/* RESERVATION */
	--	FK 제약조건
	CONSTRAINT FK_STORE_BRAND
		FOREIGN KEY (BRAND_NAME, BRAND_OPEN, BRAND_CLOSE, BRAND_LOGO1, BRAND_LOGO2, BRAND_MARKER)
		REFERENCES BRAND_TB (BRAND_NAME, BRAND_OPEN, BRAND_CLOSE, BRAND_LOGO1, BRAND_LOGO2, BRAND_MARKER)
		ON DELETE CASCADE
);


-- STORE_NO 시퀀스 생성
CREATE SEQUENCE STORE_NO_SEQ
INCREMENT BY 1
START WITH 1
NOCYCLE
NOCACHE;


-- STORE 더미 데이터 생성
INSERT INTO STORE_TB (STORE_NO, STORE_NAME, STORE_PHONE, STORE_ADDR, STORE_MAP, BRAND_NAME, BRAND_OPEN, BRAND_CLOSE, BRAND_LOGO1, BRAND_LOGO2, BRAND_MARKER)
SELECT STORE_NO_SEQ.NEXTVAL, '백종원의 빽보이피자 신논현역점', '1668-3791', '서울 서초구 사평대로55길 18 1층', '37.504821583727015, 127.02274378520693', '빽보이피자',
B.BRAND_OPEN, B.BRAND_CLOSE, B.BRAND_LOGO1, B.BRAND_LOGO2, B.BRAND_MARKER FROM BRAND_TB B WHERE B.BRAND_NAME = '빽보이피자';

INSERT INTO STORE_TB (STORE_NO, STORE_NAME, STORE_PHONE, STORE_ADDR, STORE_MAP, BRAND_NAME, BRAND_OPEN, BRAND_CLOSE, BRAND_LOGO1, BRAND_LOGO2, BRAND_MARKER)
SELECT STORE_NO_SEQ.NEXTVAL, '백종원의 빽보이피자 서초점', '070-8840-3804', '서울 서초구 서초대로 280 1층', '37.492990664525664, 127.01233127061306', '빽보이피자',
B.BRAND_OPEN, B.BRAND_CLOSE, B.BRAND_LOGO1, B.BRAND_LOGO2, B.BRAND_MARKER FROM BRAND_TB B WHERE B.BRAND_NAME = '빽보이피자';

INSERT INTO STORE_TB (STORE_NO, STORE_NAME, STORE_PHONE, STORE_ADDR, STORE_MAP, BRAND_NAME, BRAND_OPEN, BRAND_CLOSE, BRAND_LOGO1, BRAND_LOGO2, BRAND_MARKER)
SELECT STORE_NO_SEQ.NEXTVAL, '백종원의 빽보이피자 강남청담점', '02-3446-7776', '서울 강남구 삼성로145길 14 103호', '37.52250555013786, 127.04721495360617', '빽보이피자',
B.BRAND_OPEN, B.BRAND_CLOSE, B.BRAND_LOGO1, B.BRAND_LOGO2, B.BRAND_MARKER FROM BRAND_TB B WHERE B.BRAND_NAME = '빽보이피자';

INSERT INTO STORE_TB (STORE_NO, STORE_NAME, STORE_PHONE, STORE_ADDR, STORE_MAP, BRAND_NAME, BRAND_OPEN, BRAND_CLOSE, BRAND_LOGO1, BRAND_LOGO2, BRAND_MARKER)
SELECT STORE_NO_SEQ.NEXTVAL, '백종원의 빽보이피자 건대점', '1668-1089', '서울 광진구 능동로13길 54 1층', '37.54425350218965, 127.06985146298014', '빽보이피자',
B.BRAND_OPEN, B.BRAND_CLOSE, B.BRAND_LOGO1, B.BRAND_LOGO2, B.BRAND_MARKER FROM BRAND_TB B WHERE B.BRAND_NAME = '빽보이피자';

INSERT INTO STORE_TB (STORE_NO, STORE_NAME, STORE_PHONE, STORE_ADDR, STORE_MAP, BRAND_NAME, BRAND_OPEN, BRAND_CLOSE, BRAND_LOGO1, BRAND_LOGO2, BRAND_MARKER)
SELECT STORE_NO_SEQ.NEXTVAL, '백종원의 빽보이피자 송파헬리오시티점', '1668-5490', '서울 송파구 가락로12길 4 1층', '37.499778661506284, 127.10513344077887', '빽보이피자',
B.BRAND_OPEN, B.BRAND_CLOSE, B.BRAND_LOGO1, B.BRAND_LOGO2, B.BRAND_MARKER FROM BRAND_TB B WHERE B.BRAND_NAME = '빽보이피자';

INSERT INTO STORE_TB (STORE_NO, STORE_NAME, STORE_PHONE, STORE_ADDR, STORE_MAP, BRAND_NAME, BRAND_OPEN, BRAND_CLOSE, BRAND_LOGO1, BRAND_LOGO2, BRAND_MARKER)
SELECT STORE_NO_SEQ.NEXTVAL, '역전우동0410 역삼테헤란로점', '02-553-2111', '서울 강남구 테헤란로10길 25 104호', '37.497588576835305, 127.03305220574101', '역전우동',
B.BRAND_OPEN, B.BRAND_CLOSE, B.BRAND_LOGO1, B.BRAND_LOGO2, B.BRAND_MARKER FROM BRAND_TB B WHERE B.BRAND_NAME = '역전우동';

INSERT INTO STORE_TB (STORE_NO, STORE_NAME, STORE_PHONE, STORE_ADDR, STORE_MAP, BRAND_NAME, BRAND_OPEN, BRAND_CLOSE, BRAND_LOGO1, BRAND_LOGO2, BRAND_MARKER)
SELECT STORE_NO_SEQ.NEXTVAL, '역전우동0410 강남역태극당점', '02-563-8582', '서울 강남구 테헤란로4길 46 쌍용플레티넘밸류 B107', '37.49520380035758, 127.03068490584577', '역전우동',
B.BRAND_OPEN, B.BRAND_CLOSE, B.BRAND_LOGO1, B.BRAND_LOGO2, B.BRAND_MARKER FROM BRAND_TB B WHERE B.BRAND_NAME = '역전우동';

INSERT INTO STORE_TB (STORE_NO, STORE_NAME, STORE_PHONE, STORE_ADDR, STORE_MAP, BRAND_NAME, BRAND_OPEN, BRAND_CLOSE, BRAND_LOGO1, BRAND_LOGO2, BRAND_MARKER)
SELECT STORE_NO_SEQ.NEXTVAL, '역전우동0410 신논현역점', '02-2088-0410', '서울 서초구 사평대로 349 102호', '37.503790220696324, 127.02119406623822', '역전우동',
B.BRAND_OPEN, B.BRAND_CLOSE, B.BRAND_LOGO1, B.BRAND_LOGO2, B.BRAND_MARKER FROM BRAND_TB B WHERE B.BRAND_NAME = '역전우동';

INSERT INTO STORE_TB (STORE_NO, STORE_NAME, STORE_PHONE, STORE_ADDR, STORE_MAP, BRAND_NAME, BRAND_OPEN, BRAND_CLOSE, BRAND_LOGO1, BRAND_LOGO2, BRAND_MARKER)
SELECT STORE_NO_SEQ.NEXTVAL, '역전우동0410 서초점', '070-4102-0410', '서울 서초구 서초대로 280 1층', '37.49300417756612, 127.01235106167228', '역전우동',
B.BRAND_OPEN, B.BRAND_CLOSE, B.BRAND_LOGO1, B.BRAND_LOGO2, B.BRAND_MARKER FROM BRAND_TB B WHERE B.BRAND_NAME = '역전우동';

INSERT INTO STORE_TB (STORE_NO, STORE_NAME, STORE_PHONE, STORE_ADDR, STORE_MAP, BRAND_NAME, BRAND_OPEN, BRAND_CLOSE, BRAND_LOGO1, BRAND_LOGO2, BRAND_MARKER)
SELECT STORE_NO_SEQ.NEXTVAL, '역전우동0410 강남터미널점', '02-532-0904', '서울 서초구 신반포로 194 강남고속버스터미널', '37.505967846671204, 127.00693011812535', '역전우동',
B.BRAND_OPEN, B.BRAND_CLOSE, B.BRAND_LOGO1, B.BRAND_LOGO2, B.BRAND_MARKER FROM BRAND_TB B WHERE B.BRAND_NAME = '역전우동';

INSERT INTO STORE_TB (STORE_NO, STORE_NAME, STORE_PHONE, STORE_ADDR, STORE_MAP, BRAND_NAME, BRAND_OPEN, BRAND_CLOSE, BRAND_LOGO1, BRAND_LOGO2, BRAND_MARKER)
SELECT STORE_NO_SEQ.NEXTVAL, '빽다방 강남역지하도점', '02-3452-3989', '서울 강남구 강남대로 396 강남역 지하쇼핑센터 E-36호', '37.498042662738996, 127.02789565393452', '빽다방',
B.BRAND_OPEN, B.BRAND_CLOSE, B.BRAND_LOGO1, B.BRAND_LOGO2, B.BRAND_MARKER FROM BRAND_TB B WHERE B.BRAND_NAME = '빽다방';

INSERT INTO STORE_TB (STORE_NO, STORE_NAME, STORE_PHONE, STORE_ADDR, STORE_MAP, BRAND_NAME, BRAND_OPEN, BRAND_CLOSE, BRAND_LOGO1, BRAND_LOGO2, BRAND_MARKER)
SELECT STORE_NO_SEQ.NEXTVAL, '홍콩반점0410 강남역점', '02-555-8883', '서울 강남구 테헤란로4길 27 2층', '37.49668826437164, 127.03047065243365', '홍콩반점',
B.BRAND_OPEN, B.BRAND_CLOSE, B.BRAND_LOGO1, B.BRAND_LOGO2, B.BRAND_MARKER FROM BRAND_TB B WHERE B.BRAND_NAME = '홍콩반점';

INSERT INTO STORE_TB (STORE_NO, STORE_NAME, STORE_PHONE, STORE_ADDR, STORE_MAP, BRAND_NAME, BRAND_OPEN, BRAND_CLOSE, BRAND_LOGO1, BRAND_LOGO2, BRAND_MARKER)
SELECT STORE_NO_SEQ.NEXTVAL, '롤링파스타 가로수길점', '0507-1366-5688', '서울 강남구 가로수길 16 2층', '37.519028037516684, 127.02341549453799', '롤링파스타',
B.BRAND_OPEN, B.BRAND_CLOSE, B.BRAND_LOGO1, B.BRAND_LOGO2, B.BRAND_MARKER FROM BRAND_TB B WHERE B.BRAND_NAME = '롤링파스타';

INSERT INTO STORE_TB (STORE_NO, STORE_NAME, STORE_PHONE, STORE_ADDR, STORE_MAP, BRAND_NAME, BRAND_OPEN, BRAND_CLOSE, BRAND_LOGO1, BRAND_LOGO2, BRAND_MARKER)
SELECT STORE_NO_SEQ.NEXTVAL, '한신포차 구의역점', '02-454-0654', '서울 광진구 자양로18길 25 1층', '37.53784429828354, 127.0848911694459', '한신포차',
B.BRAND_OPEN, B.BRAND_CLOSE, B.BRAND_LOGO1, B.BRAND_LOGO2, B.BRAND_MARKER FROM BRAND_TB B WHERE B.BRAND_NAME = '한신포차';

INSERT INTO STORE_TB (STORE_NO, STORE_NAME, STORE_PHONE, STORE_ADDR, STORE_MAP, BRAND_NAME, BRAND_OPEN, BRAND_CLOSE, BRAND_LOGO1, BRAND_LOGO2, BRAND_MARKER)
SELECT STORE_NO_SEQ.NEXTVAL, '백스비어 방배역점', '0507-1382-8988', '서울 서초구 효령로31길 17 1층', '37.48194038463768, 126.99624067529642', '백스비어',
B.BRAND_OPEN, B.BRAND_CLOSE, B.BRAND_LOGO1, B.BRAND_LOGO2, B.BRAND_MARKER FROM BRAND_TB B WHERE B.BRAND_NAME = '백스비어';

INSERT INTO STORE_TB (STORE_NO, STORE_NAME, STORE_PHONE, STORE_ADDR, STORE_MAP, BRAND_NAME, BRAND_OPEN, BRAND_CLOSE, BRAND_LOGO1, BRAND_LOGO2, BRAND_MARKER)
SELECT STORE_NO_SEQ.NEXTVAL, '새마을식당 역삼스타타워점', '0507-1339-1587', '서울 강남구 테헤란로20길 19 엘지역삼에클라트 1층', '37.498540760142774, 127.03523521253456', '새마을식당',
B.BRAND_OPEN, B.BRAND_CLOSE, B.BRAND_LOGO1, B.BRAND_LOGO2, B.BRAND_MARKER FROM BRAND_TB B WHERE B.BRAND_NAME = '새마을식당';

INSERT INTO STORE_TB (STORE_NO, STORE_NAME, STORE_PHONE, STORE_ADDR, STORE_MAP, BRAND_NAME, BRAND_OPEN, BRAND_CLOSE, BRAND_LOGO1, BRAND_LOGO2, BRAND_MARKER)
SELECT STORE_NO_SEQ.NEXTVAL, '제순식당 대학로직영점', '0507-1434-8220', '서울 종로구 대명길 39-4', '37.58278274741988, 126.99947638189154', '제순식당',
B.BRAND_OPEN, B.BRAND_CLOSE, B.BRAND_LOGO1, B.BRAND_LOGO2, B.BRAND_MARKER FROM BRAND_TB B WHERE B.BRAND_NAME = '제순식당';

INSERT INTO STORE_TB (STORE_NO, STORE_NAME, STORE_PHONE, STORE_ADDR, STORE_MAP, BRAND_NAME, BRAND_OPEN, BRAND_CLOSE, BRAND_LOGO1, BRAND_LOGO2, BRAND_MARKER)
SELECT STORE_NO_SEQ.NEXTVAL, '리춘시장 강남역점', '070-8633-8280', '서울 강남구 테헤란로1길 30 2층', '37.500272737199225, 127.02753742269141', '리춘시장',
B.BRAND_OPEN, B.BRAND_CLOSE, B.BRAND_LOGO1, B.BRAND_LOGO2, B.BRAND_MARKER FROM BRAND_TB B WHERE B.BRAND_NAME = '리춘시장';

INSERT INTO STORE_TB (STORE_NO, STORE_NAME, STORE_PHONE, STORE_ADDR, STORE_MAP, BRAND_NAME, BRAND_OPEN, BRAND_CLOSE, BRAND_LOGO1, BRAND_LOGO2, BRAND_MARKER)
SELECT STORE_NO_SEQ.NEXTVAL, '고투웍 두타몰점', '02-3398-4470', '서울 중구 장충단로 275 두산타워 B2층', '37.56886430947535, 127.00877533817996', '고투웍',
B.BRAND_OPEN, B.BRAND_CLOSE, B.BRAND_LOGO1, B.BRAND_LOGO2, B.BRAND_MARKER FROM BRAND_TB B WHERE B.BRAND_NAME = '고투웍';

INSERT INTO STORE_TB (STORE_NO, STORE_NAME, STORE_PHONE, STORE_ADDR, STORE_MAP, BRAND_NAME, BRAND_OPEN, BRAND_CLOSE, BRAND_LOGO1, BRAND_LOGO2, BRAND_MARKER)
SELECT STORE_NO_SEQ.NEXTVAL, '홍콩분식 용산문배점', '02-719-3864', '서울 용산구 백범로90길 38 2층', '37.53667707827815, 126.96962340026128', '홍콩분식',
B.BRAND_OPEN, B.BRAND_CLOSE, B.BRAND_LOGO1, B.BRAND_LOGO2, B.BRAND_MARKER FROM BRAND_TB B WHERE B.BRAND_NAME = '홍콩분식';

INSERT INTO STORE_TB (STORE_NO, STORE_NAME, STORE_PHONE, STORE_ADDR, STORE_MAP, BRAND_NAME, BRAND_OPEN, BRAND_CLOSE, BRAND_LOGO1, BRAND_LOGO2, BRAND_MARKER)
SELECT STORE_NO_SEQ.NEXTVAL, '백종원의 원조쌈밥집 영등포역점', '02-2676-7626', '서울 영등포구 영등포로36길 10', '37.51921392274543, 126.90348438373019', '백종원의쌈밥',
B.BRAND_OPEN, B.BRAND_CLOSE, B.BRAND_LOGO1, B.BRAND_LOGO2, B.BRAND_MARKER FROM BRAND_TB B WHERE B.BRAND_NAME = '백종원의쌈밥';

INSERT INTO STORE_TB (STORE_NO, STORE_NAME, STORE_PHONE, STORE_ADDR, STORE_MAP, BRAND_NAME, BRAND_OPEN, BRAND_CLOSE, BRAND_LOGO1, BRAND_LOGO2, BRAND_MARKER)
SELECT STORE_NO_SEQ.NEXTVAL, '본가 일원점', '02-445-9233', '서울 강남구 일원로9길 64 승민빌딩 1, 2층', '37.490733952662595, 127.0867742451947', '본가',
B.BRAND_OPEN, B.BRAND_CLOSE, B.BRAND_LOGO1, B.BRAND_LOGO2, B.BRAND_MARKER FROM BRAND_TB B WHERE B.BRAND_NAME = '본가';

INSERT INTO STORE_TB (STORE_NO, STORE_NAME, STORE_PHONE, STORE_ADDR, STORE_MAP, BRAND_NAME, BRAND_OPEN, BRAND_CLOSE, BRAND_LOGO1, BRAND_LOGO2, BRAND_MARKER)
SELECT STORE_NO_SEQ.NEXTVAL, '인생설렁탕 고대안암역점', '02-6402-0121', '서울 성북구 고려대로24길 24', '37.58515775384176, 127.02922164882652', '인생설렁탕',
B.BRAND_OPEN, B.BRAND_CLOSE, B.BRAND_LOGO1, B.BRAND_LOGO2, B.BRAND_MARKER FROM BRAND_TB B WHERE B.BRAND_NAME = '인생설렁탕';

INSERT INTO STORE_TB (STORE_NO, STORE_NAME, STORE_PHONE, STORE_ADDR, STORE_MAP, BRAND_NAME, BRAND_OPEN, BRAND_CLOSE, BRAND_LOGO1, BRAND_LOGO2, BRAND_MARKER)
SELECT STORE_NO_SEQ.NEXTVAL, '막이오름 건대점', '02-461-0410', '서울 광진구 동일로22길 69-3 1층~2층', '37.541666405653636, 127.06809801431976', '막이오름',
B.BRAND_OPEN, B.BRAND_CLOSE, B.BRAND_LOGO1, B.BRAND_LOGO2, B.BRAND_MARKER FROM BRAND_TB B WHERE B.BRAND_NAME = '막이오름';

INSERT INTO STORE_TB (STORE_NO, STORE_NAME, STORE_PHONE, STORE_ADDR, STORE_MAP, BRAND_NAME, BRAND_OPEN, BRAND_CLOSE, BRAND_LOGO1, BRAND_LOGO2, BRAND_MARKER)
SELECT STORE_NO_SEQ.NEXTVAL, '연돈볼카츠 강남CGV점', '070-8666-4637', '서울 강남구 강남대로 438 213호', '37.50162902378058, 127.02634197209417', '연돈볼카츠',
B.BRAND_OPEN, B.BRAND_CLOSE, B.BRAND_LOGO1, B.BRAND_LOGO2, B.BRAND_MARKER FROM BRAND_TB B WHERE B.BRAND_NAME = '연돈볼카츠';

INSERT INTO STORE_TB (STORE_NO, STORE_NAME, STORE_PHONE, STORE_ADDR, STORE_MAP, BRAND_NAME, BRAND_OPEN, BRAND_CLOSE, BRAND_LOGO1, BRAND_LOGO2, BRAND_MARKER)
SELECT STORE_NO_SEQ.NEXTVAL, '돌배기집 영등포역점', '02-2676-7596', '서울 영등포구 영중로4길 6-1 1층', '37.517070245354205, 126.90718036039823', '돌배기집',
B.BRAND_OPEN, B.BRAND_CLOSE, B.BRAND_LOGO1, B.BRAND_LOGO2, B.BRAND_MARKER FROM BRAND_TB B WHERE B.BRAND_NAME = '돌배기집';

INSERT INTO STORE_TB (STORE_NO, STORE_NAME, STORE_PHONE, STORE_ADDR, STORE_MAP, BRAND_NAME, BRAND_OPEN, BRAND_CLOSE, BRAND_LOGO1, BRAND_LOGO2, BRAND_MARKER)
SELECT STORE_NO_SEQ.NEXTVAL, '미정국수0410 강남역점', '02-532-4937', '서울 서초구 서초대로77길 37 서초동월드1308상가', '37.501023353169195, 127.025168438514', '미정국수',
B.BRAND_OPEN, B.BRAND_CLOSE, B.BRAND_LOGO1, B.BRAND_LOGO2, B.BRAND_MARKER FROM BRAND_TB B WHERE B.BRAND_NAME = '미정국수';

INSERT INTO STORE_TB (STORE_NO, STORE_NAME, STORE_PHONE, STORE_ADDR, STORE_MAP, BRAND_NAME, BRAND_OPEN, BRAND_CLOSE, BRAND_LOGO1, BRAND_LOGO2, BRAND_MARKER)
SELECT STORE_NO_SEQ.NEXTVAL, '백철판0410 건대역점', '02-499-0410', '서울 광진구 동일로22길 105 지하1층', '37.54093106859639, 127.06984836333254', '백철판',
B.BRAND_OPEN, B.BRAND_CLOSE, B.BRAND_LOGO1, B.BRAND_LOGO2, B.BRAND_MARKER FROM BRAND_TB B WHERE B.BRAND_NAME = '백철판';


-- STORE 테스트용 쿼리문
SELECT * FROM STORE_TB;							/* 전체 데이터 조회 */

DELETE FROM STORE_TB WHERE BRAND_NAME = ''; 	/* 브랜드명 단위로 데이터 삭제 */

DROP SEQUENCE STORE_NO_SEQ;						/* STORE_NO 시퀀스 삭제 */

DROP TABLE STORE_TB;							/* STORE 테이블 삭제 */

COMMIT;
